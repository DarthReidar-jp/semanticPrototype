extends layout

block content
  .container.mt-4
    .row
      .col-md-12
        // タイトルと新規作成ボタン
        .d-flex.justify-content-between.align-items-center.mb-4
          h1 Display Memos
          a.btn.btn-success(href='/create') New Memo
          a.btn.btn-primary(href='/display') View Memos
        
        // JSONインポートフォーム
        h2 Import Memos
        form(method="POST", action="/display/import", enctype="multipart/form-data")
          .form-group
            input.form-control(type="file", name="jsonFile", accept=".json")
          button.btn.btn-primary(type="submit") Import


        // 検索フォーム
        form(method="GET", action="/display/search").mb-4
          .input-group
            input.form-control(type="text", name="query", placeholder="Search memos...")
            .input-group-append
              button.btn.btn-outline-secondary(type="submit") Search

        // メモカード一覧
        .row
          if memos.length
            each memo in memos
              .col-lg-3.col-md-4.col-sm-6.mb-4
                .card.h-100.d-flex.flex-column
                  .card-body
                    h5.card-title= memo.title
                    p.card-text.flex-fill(style='overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;')= memo.content
                    a.stretched-link(href=`/detail/${memo._id}`)
          else
            .col-12
              p No memos found.
